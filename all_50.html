<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  至尊宝典之备忘录
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="至尊宝典之备忘录" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">至尊宝典之备忘录</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 至尊宝典之备忘录</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>简易博客</label></li>

          
            <li><a title="简易博客" href="15337217832111.html">简易博客</a></li>
          
            <li><a title="一些地址记录" href="15338947142066.html">一些地址记录</a></li>
          

      
        <li class="divider"></li>
        <li><label>Vue</label></li>

          
            <li><a title="Mac下的Vue环境搭建" href="15421818269588.html">Mac下的Vue环境搭建</a></li>
          
            <li><a title="Vue项目结构" href="15422692424640.html">Vue项目结构</a></li>
          
            <li><a title="VSCode编译器 格式化.vue文件" href="15422706001586.html">VSCode编译器 格式化.vue文件</a></li>
          
            <li><a title="VSCode 前端常用插件推荐" href="15422741986731.html">VSCode 前端常用插件推荐</a></li>
          

      
        <li class="divider"></li>
        <li><label>微信小程序概述</label></li>

          
            <li><a title="微信小程序开发规范" href="15416465825836.html">微信小程序开发规范</a></li>
          
            <li><a title="微信小程序的历程" href="15416695471017.html">微信小程序的历程</a></li>
          
            <li><a title="微信小程序账号申请" href="15232437563217.html">微信小程序账号申请</a></li>
          
            <li><a title="微信平台与微信小程序" href="15399429964472.html">微信平台与微信小程序</a></li>
          
            <li><a title="微信小程序运营 设计与开发" href="15416647115012.html">微信小程序运营 设计与开发</a></li>
          
            <li><a title="微信小程序微信开放API" href="15326548831374.html">微信小程序微信开放API</a></li>
          
            <li><a title="微信小程序机制" href="15287848933165.html">微信小程序机制</a></li>
          
            <li><a title="微信小程序基础介绍" href="15325981613625.html">微信小程序基础介绍</a></li>
          
            <li><a title="微信小程序开发配置介绍" href="15325981038081.html">微信小程序开发配置介绍</a></li>
          
            <li><a title="微信小程序之服务通知" href="15336330410298.html">微信小程序之服务通知</a></li>
          
            <li><a title="微信小程序之数据统计与分析" href="15363043648238.html">微信小程序之数据统计与分析</a></li>
          
            <li><a title="微信直播类小程序" href="15344710120047.html">微信直播类小程序</a></li>
          
            <li><a title="微信小程序入坑锦集" href="15288676024387.html">微信小程序入坑锦集</a></li>
          

      
        <li class="divider"></li>
        <li><label>微信小程序开发示例</label></li>

          
            <li><a title="微信小程序之一：JS操作" href="15419922791377.html">微信小程序之一：JS操作</a></li>
          
            <li><a title="微信小程序之二：点击与跳页传参" href="15419918698485.html">微信小程序之二：点击与跳页传参</a></li>
          
            <li><a title="微信小程序之三：提示信息" href="15326733440349.html">微信小程序之三：提示信息</a></li>
          
            <li><a title="微信小程序之四：样式" href="15419923901812.html">微信小程序之四：样式</a></li>
          
            <li><a title="微信小程序之五：登录篇" href="15234367737951.html">微信小程序之五：登录篇</a></li>
          
            <li><a title="微信小程序之六：解析html" href="15420001365512.html">微信小程序之六：解析html</a></li>
          
            <li><a title="微信小程序之七：跑马灯效果" href="15419994873507.html">微信小程序之七：跑马灯效果</a></li>
          
            <li><a title="微信小程序之八：动画" href="15419945000025.html">微信小程序之八：动画</a></li>
          
            <li><a title="微信小程序之九：二维码" href="15426946934140.html">微信小程序之九：二维码</a></li>
          
            <li><a title="微信小程序之十：分享" href="15427653318773.html">微信小程序之十：分享</a></li>
          
            <li><a title="微信小程序TabBar" href="15235114845539.html">微信小程序TabBar</a></li>
          
            <li><a title="微信小程序轮播" href="15235125175960.html">微信小程序轮播</a></li>
          
            <li><a title="微信小程序列表list" href="15235133751593.html">微信小程序列表list</a></li>
          
            <li><a title="微信小程序网格布局" href="15236096586360.html">微信小程序网格布局</a></li>
          
            <li><a title="微信小程序View的布局" href="15242100404510.html">微信小程序View的布局</a></li>
          
            <li><a title="微信小程序网络请求" href="15235164843984.html">微信小程序网络请求</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS开发建项</label></li>

          
            <li><a title="iOS开发说明" href="15139213651453.html">iOS开发说明</a></li>
          
            <li><a title="项目问题汇总" href="15139392949146.html">项目问题汇总</a></li>
          
            <li><a title="建项-屏幕适配的这几年" href="15141802374458.html">建项-屏幕适配的这几年</a></li>
          
            <li><a title="建项-使用三方管理工具cocoaPods" href="15139117675584.html">建项-使用三方管理工具cocoaPods</a></li>
          
            <li><a title="开发辅助地址一览" href="15142827596143.html">开发辅助地址一览</a></li>
          
            <li><a title="建项-创建.pch文件" href="15139119793020.html">建项-创建.pch文件</a></li>
          
            <li><a title="建项-那些.pch里写了些什么？" href="15139368877787.html">建项-那些.pch里写了些什么？</a></li>
          
            <li><a title="建项-权限、网络问题" href="15139219822825.html">建项-权限、网络问题</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS代码学习</label></li>

          
            <li><a title="OC 字符串操作方法说明" href="15139214218497.html">OC 字符串操作方法说明</a></li>
          
            <li><a title="OC 数组操作方法说明" href="15139214500331.html">OC 数组操作方法说明</a></li>
          
            <li><a title="OC plist文件管理(代码方式)" href="15142856319824.html">OC plist文件管理(代码方式)</a></li>
          
            <li><a title="iOS 从AppDelegate说起" href="15142851543985.html">iOS 从AppDelegate说起</a></li>
          
            <li><a title="iOS请求方式" href="15142851750375.html">iOS请求方式</a></li>
          
            <li><a title="iOS tableView 基础使用说明" href="15139214660338.html">iOS tableView 基础使用说明</a></li>
          
            <li><a title="iOS tableView 常用属性与方法" href="15142851756052.html">iOS tableView 常用属性与方法</a></li>
          
            <li><a title="iOS UICollectionView使用详解" href="15142851752080.html">iOS UICollectionView使用详解</a></li>
          
            <li><a title="iOS导航 与pop" href="15142851748774.html">iOS导航 与pop</a></li>
          
            <li><a title="iOS 计算时间差" href="15142851759902.html">iOS 计算时间差</a></li>
          
            <li><a title="iOS 信息格式验证" href="15142851758481.html">iOS 信息格式验证</a></li>
          
            <li><a title="iOS  UIAlertController 提示框" href="15142851744703.html">iOS  UIAlertController 提示框</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS封装学习</label></li>

          
            <li><a title="建项-快速开发 1 ->TabBar" href="15142722458623.html">建项-快速开发 1 ->TabBar</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS杂文</label></li>

          
            <li><a title="iOS审核被拒4.3" href="15403646176398.html">iOS审核被拒4.3</a></li>
          
            <li><a title="排序" href="15198806151662.html">排序</a></li>
          
            <li><a title="AES加密打开方式..." href="15139219514745.html">AES加密打开方式...</a></li>
          
            <li><a title="互动直播变身视频会议" href="15139219144104.html">互动直播变身视频会议</a></li>
          
            <li><a title="iOS  MQTT 接入示例" href="15139218580826.html">iOS  MQTT 接入示例</a></li>
          
            <li><a title="AR 原理与技术分析" href="15139218050505.html">AR 原理与技术分析</a></li>
          
            <li><a title="iOS ARKit 看我就受够了" href="15139220095625.html">iOS ARKit 看我就受够了</a></li>
          
            <li><a title="正则表达式简单说明" href="15139217121225.html">正则表达式简单说明</a></li>
          
            <li><a title="Mac电脑清理存储空间" href="15139218767623.html">Mac电脑清理存储空间</a></li>
          
            <li><a title="Mac下使用Apache服务" href="15338926115451.html">Mac下使用Apache服务</a></li>
          

      
        <li class="divider"></li>
        <li><label>CMMI3级评审</label></li>

          
            <li><a title="CMMI3级评审" href="15238614357604.html">CMMI3级评审</a></li>
          

      
        <li class="divider"></li>
        <li><label>辛寨子</label></li>

          
            <li><a title="操作手册" href="15247309861121.html">操作手册</a></li>
          

      
        <li class="divider"></li>
        <li><label>联系方式</label></li>

          
            <li><a title="联系方式" href="15139235853705.html">联系方式</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>简易博客</span></li>
                        
                          <li><a title="简易博客" href="15337217832111.html">简易博客</a></li>
                        
                          <li><a title="一些地址记录" href="15338947142066.html">一些地址记录</a></li>
                        

                    
                      <li class="side-title"><span>Vue</span></li>
                        
                          <li><a title="Mac下的Vue环境搭建" href="15421818269588.html">Mac下的Vue环境搭建</a></li>
                        
                          <li><a title="Vue项目结构" href="15422692424640.html">Vue项目结构</a></li>
                        
                          <li><a title="VSCode编译器 格式化.vue文件" href="15422706001586.html">VSCode编译器 格式化.vue文件</a></li>
                        
                          <li><a title="VSCode 前端常用插件推荐" href="15422741986731.html">VSCode 前端常用插件推荐</a></li>
                        

                    
                      <li class="side-title"><span>微信小程序概述</span></li>
                        
                          <li><a title="微信小程序开发规范" href="15416465825836.html">微信小程序开发规范</a></li>
                        
                          <li><a title="微信小程序的历程" href="15416695471017.html">微信小程序的历程</a></li>
                        
                          <li><a title="微信小程序账号申请" href="15232437563217.html">微信小程序账号申请</a></li>
                        
                          <li><a title="微信平台与微信小程序" href="15399429964472.html">微信平台与微信小程序</a></li>
                        
                          <li><a title="微信小程序运营 设计与开发" href="15416647115012.html">微信小程序运营 设计与开发</a></li>
                        
                          <li><a title="微信小程序微信开放API" href="15326548831374.html">微信小程序微信开放API</a></li>
                        
                          <li><a title="微信小程序机制" href="15287848933165.html">微信小程序机制</a></li>
                        
                          <li><a title="微信小程序基础介绍" href="15325981613625.html">微信小程序基础介绍</a></li>
                        
                          <li><a title="微信小程序开发配置介绍" href="15325981038081.html">微信小程序开发配置介绍</a></li>
                        
                          <li><a title="微信小程序之服务通知" href="15336330410298.html">微信小程序之服务通知</a></li>
                        
                          <li><a title="微信小程序之数据统计与分析" href="15363043648238.html">微信小程序之数据统计与分析</a></li>
                        
                          <li><a title="微信直播类小程序" href="15344710120047.html">微信直播类小程序</a></li>
                        
                          <li><a title="微信小程序入坑锦集" href="15288676024387.html">微信小程序入坑锦集</a></li>
                        

                    
                      <li class="side-title"><span>微信小程序开发示例</span></li>
                        
                          <li><a title="微信小程序之一：JS操作" href="15419922791377.html">微信小程序之一：JS操作</a></li>
                        
                          <li><a title="微信小程序之二：点击与跳页传参" href="15419918698485.html">微信小程序之二：点击与跳页传参</a></li>
                        
                          <li><a title="微信小程序之三：提示信息" href="15326733440349.html">微信小程序之三：提示信息</a></li>
                        
                          <li><a title="微信小程序之四：样式" href="15419923901812.html">微信小程序之四：样式</a></li>
                        
                          <li><a title="微信小程序之五：登录篇" href="15234367737951.html">微信小程序之五：登录篇</a></li>
                        
                          <li><a title="微信小程序之六：解析html" href="15420001365512.html">微信小程序之六：解析html</a></li>
                        
                          <li><a title="微信小程序之七：跑马灯效果" href="15419994873507.html">微信小程序之七：跑马灯效果</a></li>
                        
                          <li><a title="微信小程序之八：动画" href="15419945000025.html">微信小程序之八：动画</a></li>
                        
                          <li><a title="微信小程序之九：二维码" href="15426946934140.html">微信小程序之九：二维码</a></li>
                        
                          <li><a title="微信小程序之十：分享" href="15427653318773.html">微信小程序之十：分享</a></li>
                        
                          <li><a title="微信小程序TabBar" href="15235114845539.html">微信小程序TabBar</a></li>
                        
                          <li><a title="微信小程序轮播" href="15235125175960.html">微信小程序轮播</a></li>
                        
                          <li><a title="微信小程序列表list" href="15235133751593.html">微信小程序列表list</a></li>
                        
                          <li><a title="微信小程序网格布局" href="15236096586360.html">微信小程序网格布局</a></li>
                        
                          <li><a title="微信小程序View的布局" href="15242100404510.html">微信小程序View的布局</a></li>
                        
                          <li><a title="微信小程序网络请求" href="15235164843984.html">微信小程序网络请求</a></li>
                        

                    
                      <li class="side-title"><span>iOS开发建项</span></li>
                        
                          <li><a title="iOS开发说明" href="15139213651453.html">iOS开发说明</a></li>
                        
                          <li><a title="项目问题汇总" href="15139392949146.html">项目问题汇总</a></li>
                        
                          <li><a title="建项-屏幕适配的这几年" href="15141802374458.html">建项-屏幕适配的这几年</a></li>
                        
                          <li><a title="建项-使用三方管理工具cocoaPods" href="15139117675584.html">建项-使用三方管理工具cocoaPods</a></li>
                        
                          <li><a title="开发辅助地址一览" href="15142827596143.html">开发辅助地址一览</a></li>
                        
                          <li><a title="建项-创建.pch文件" href="15139119793020.html">建项-创建.pch文件</a></li>
                        
                          <li><a title="建项-那些.pch里写了些什么？" href="15139368877787.html">建项-那些.pch里写了些什么？</a></li>
                        
                          <li><a title="建项-权限、网络问题" href="15139219822825.html">建项-权限、网络问题</a></li>
                        

                    
                      <li class="side-title"><span>iOS代码学习</span></li>
                        
                          <li><a title="OC 字符串操作方法说明" href="15139214218497.html">OC 字符串操作方法说明</a></li>
                        
                          <li><a title="OC 数组操作方法说明" href="15139214500331.html">OC 数组操作方法说明</a></li>
                        
                          <li><a title="OC plist文件管理(代码方式)" href="15142856319824.html">OC plist文件管理(代码方式)</a></li>
                        
                          <li><a title="iOS 从AppDelegate说起" href="15142851543985.html">iOS 从AppDelegate说起</a></li>
                        
                          <li><a title="iOS请求方式" href="15142851750375.html">iOS请求方式</a></li>
                        
                          <li><a title="iOS tableView 基础使用说明" href="15139214660338.html">iOS tableView 基础使用说明</a></li>
                        
                          <li><a title="iOS tableView 常用属性与方法" href="15142851756052.html">iOS tableView 常用属性与方法</a></li>
                        
                          <li><a title="iOS UICollectionView使用详解" href="15142851752080.html">iOS UICollectionView使用详解</a></li>
                        
                          <li><a title="iOS导航 与pop" href="15142851748774.html">iOS导航 与pop</a></li>
                        
                          <li><a title="iOS 计算时间差" href="15142851759902.html">iOS 计算时间差</a></li>
                        
                          <li><a title="iOS 信息格式验证" href="15142851758481.html">iOS 信息格式验证</a></li>
                        
                          <li><a title="iOS  UIAlertController 提示框" href="15142851744703.html">iOS  UIAlertController 提示框</a></li>
                        

                    
                      <li class="side-title"><span>iOS封装学习</span></li>
                        
                          <li><a title="建项-快速开发 1 ->TabBar" href="15142722458623.html">建项-快速开发 1 ->TabBar</a></li>
                        

                    
                      <li class="side-title"><span>iOS杂文</span></li>
                        
                          <li><a title="iOS审核被拒4.3" href="15403646176398.html">iOS审核被拒4.3</a></li>
                        
                          <li><a title="排序" href="15198806151662.html">排序</a></li>
                        
                          <li><a title="AES加密打开方式..." href="15139219514745.html">AES加密打开方式...</a></li>
                        
                          <li><a title="互动直播变身视频会议" href="15139219144104.html">互动直播变身视频会议</a></li>
                        
                          <li><a title="iOS  MQTT 接入示例" href="15139218580826.html">iOS  MQTT 接入示例</a></li>
                        
                          <li><a title="AR 原理与技术分析" href="15139218050505.html">AR 原理与技术分析</a></li>
                        
                          <li><a title="iOS ARKit 看我就受够了" href="15139220095625.html">iOS ARKit 看我就受够了</a></li>
                        
                          <li><a title="正则表达式简单说明" href="15139217121225.html">正则表达式简单说明</a></li>
                        
                          <li><a title="Mac电脑清理存储空间" href="15139218767623.html">Mac电脑清理存储空间</a></li>
                        
                          <li><a title="Mac下使用Apache服务" href="15338926115451.html">Mac下使用Apache服务</a></li>
                        

                    
                      <li class="side-title"><span>CMMI3级评审</span></li>
                        
                          <li><a title="CMMI3级评审" href="15238614357604.html">CMMI3级评审</a></li>
                        

                    
                      <li class="side-title"><span>辛寨子</span></li>
                        
                          <li><a title="操作手册" href="15247309861121.html">操作手册</a></li>
                        

                    
                      <li class="side-title"><span>联系方式</span></li>
                        
                          <li><a title="联系方式" href="15139235853705.html">联系方式</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 


	
		<div class="markdown-body">
		<h1>建项-快速开发 1 ->TabBar</h1>

		<h4 id="toc_0">学习优秀的封装</h4>

<p>CYLTabBarController</p>

<pre><code>【中国特色 TabBar】最低只需传两个数组即可完成主流App框架搭建【iPhoneX supported】 

 （转载 https://github.com/ChenYilong）

</code></pre>

<h5 id="toc_1">CYLTabBarController【低耦合集成TabBarController】</h5>

<h5 id="toc_2">集成后的效果：</h5>

<table>
<thead>
<tr>
<th>既支持默认样式</th>
<th>同时也支持创建自定义的形状不规则加号按钮</th>
</tr>
</thead>

<tbody>
<tr>
<td><img src="http://i62.tinypic.com/rvcbit.jpg?192x251_130" alt="enter image description here"/></td>
<td><img src="http://i58.tinypic.com/24d4t3p.jpg?192x251_130" alt="enter image description here"/></td>
</tr>
</tbody>
</table>

<p>支持横竖屏<br/>
 <img src="http://i67.tinypic.com/2u4snk7.jpg" alt="enter image description here"/></p>

<h4 id="toc_3">使用<a href="https://github.com/ChenYilong/CYLTabBarController">CYLTabBarController</a></h4>

<p>四步完成主流App框架搭建：</p>

<ol>
<li> <a href="https://github.com/ChenYilong/CYLTabBarController#%E7%AC%AC%E4%B8%80%E6%AD%A5%E4%BD%BF%E7%94%A8cocoapods%E5%AF%BC%E5%85%A5cyltabbarcontroller"> 第一步：使用CocoaPods导入CYLTabBarController </a> </li>
<li> <a href="https://github.com/ChenYilong/CYLTabBarController#%E7%AC%AC%E4%BA%8C%E6%AD%A5%E8%AE%BE%E7%BD%AEcyltabbarcontroller%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E6%8E%A7%E5%88%B6%E5%99%A8%E6%95%B0%E7%BB%84%E5%92%8Ctabbar%E5%B1%9E%E6%80%A7%E6%95%B0%E7%BB%84">第二步：设置CYLTabBarController的两个数组：控制器数组和TabBar属性数组</a> </li>
<li> <a href="https://github.com/ChenYilong/CYLTabBarController#%E7%AC%AC%E4%B8%89%E6%AD%A5%E5%B0%86cyltabbarcontroller%E8%AE%BE%E7%BD%AE%E4%B8%BAwindow%E7%9A%84rootviewcontroller">第三步：将CYLTabBarController设置为window的RootViewController</a> </li>
<li> <a href="https://github.com/ChenYilong/CYLTabBarController#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E5%8F%AF%E9%80%89%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%BD%A2%E7%8A%B6%E4%B8%8D%E8%A7%84%E5%88%99%E5%8A%A0%E5%8F%B7%E6%8C%89%E9%92%AE">第四步（可选）：创建自定义的形状不规则加号按钮</a> </li>
</ol>

<h5 id="toc_4">第一步：省略使用CocoaPods导入CYLTabBarController</h5>

<h5 id="toc_5">第二步：设置CYLTabBarController的两个数组：控制器数组和TabBar属性数组</h5>

<pre><code class="language-Objective-C"> - (void)setupViewControllers {
    CYLHomeViewController *firstViewController = [[CYLHomeViewController alloc] init];
    UIViewController *firstNavigationController = [[UINavigationController alloc]
                                                   initWithRootViewController:firstViewController];
    
    CYLSameFityViewController *secondViewController = [[CYLSameFityViewController alloc] init];
    UIViewController *secondNavigationController = [[UINavigationController alloc]
                                                    initWithRootViewController:secondViewController];
    

    CYLTabBarController *tabBarController = [[CYLTabBarController alloc] init];
    [self customizeTabBarForController:tabBarController];
    
    [tabBarController setViewControllers:@[
                                           firstNavigationController,
                                           secondNavigationController,
                                           ]];
    self.tabBarController = tabBarController;
}

/*
 *
 在`-setViewControllers:`之前设置TabBar的属性，
 *
 */
- (void)customizeTabBarForController:(CYLTabBarController *)tabBarController {
    
    NSDictionary *dict1 = @{
                            CYLTabBarItemTitle : @&quot;首页&quot;,
                            CYLTabBarItemImage : @&quot;home_normal&quot;,
                            CYLTabBarItemSelectedImage : @&quot;home_highlight&quot;,
                            };
    NSDictionary *dict2 = @{
                            CYLTabBarItemTitle : @&quot;同城&quot;,
                            CYLTabBarItemImage : @&quot;mycity_normal&quot;,
                            CYLTabBarItemSelectedImage : @&quot;mycity_highlight&quot;,
                            };

    NSArray *tabBarItemsAttributes = @[ dict1, dict2 ];
    tabBarController.tabBarItemsAttributes = tabBarItemsAttributes;
}
</code></pre>

<p>在这个字典中，<code>CYLTabBarItemImage</code> 和 <code>CYLTabBarItemSelectedImage</code> 支持 <code>NSString</code>、<code>UIImage</code><br/>
两种格式。<code>CYLTabBarItemTitle</code> 不设置将只展示图标，并会对布局作出居中处理。</p>

<h5 id="toc_6">第三步：将CYLTabBarController设置为window的RootViewController</h5>

<pre><code class="language-Objective-C"> - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
 /* *省略部分：   * */
    [self.window setRootViewController:self.tabBarController];
 /* *省略部分：   * */
    return YES;
}
</code></pre>

<h5 id="toc_7">第四步（可选）：创建自定义的形状不规则加号按钮</h5>

<p>创建一个继承于 CYLPlusButton 的类，要求和步骤：</p>

<ol>
<li><p>实现  <code>CYLPlusButtonSubclassing</code>  协议 </p></li>
<li><p>子类将自身类型进行注册，需要在 <code>-application:didFinishLaunchingWithOptions:</code> 方法里面调用 <code>[YourClass registerPlusButton]</code> </p>

<p>这里注意，不能在子类的 <code>+load</code> 方法中调用，比如像下面这样做，在 iOS10 系统上有 Crash 的风险：</p>

<pre><code class="language-Objective-C">+ (void)load {
[super registerPlusButton];
}
</code></pre></li>
</ol>

<p>协议提供了可选方法：</p>

<pre><code class="language-Objective-C">+ (NSUInteger)indexOfPlusButtonInTabBar;
+ (CGFloat)multiplierOfTabBarHeight:(CGFloat)tabBarHeight;
+ (UIViewController *)plusChildViewController;
+ (BOOL)shouldSelectPlusChildViewController;
</code></pre>

<p>作用分别是：</p>

<pre><code class="language-Objective-C"> + (NSUInteger)indexOfPlusButtonInTabBar;
</code></pre>

<p>用来自定义加号按钮的位置，如果不实现默认居中，但是如果 <code>tabbar</code> 的个数是奇数则必须实现该方法，否则 <code>CYLTabBarController</code> 会抛出 <code>exception</code> 来进行提示。</p>

<p>主要适用于如下情景：</p>

<p><img src="http://a64.tinypic.com/2mo0h.jpg" alt="enter image description here"/></p>

<p>Airbnb-app效果：</p>

<p><img src="http://a63.tinypic.com/2mgk02v.gif" alt="enter image description here"/></p>

<pre><code class="language-Objective-C">+ (CGFloat)multiplierOfTabBarHeight:(CGFloat)tabBarHeight;
</code></pre>

<p>该方法是为了调整自定义按钮中心点Y轴方向的位置，建议在按钮超出了 <code>tabbar</code> 的边界时实现该方法。返回值是自定义按钮中心点Y轴方向的坐标除以 <code>tabbar</code> 的高度，如果不实现，会自动进行比对，预设一个较为合适的位置，如果实现了该方法，预设的逻辑将失效。</p>

<p>内部实现时，会使用该返回值来设置 PlusButton 的 centerY 坐标，公式如下：</p>

<p><code>PlusButtonCenterY = multiplierOfTabBarHeight * taBarHeight + constantOfPlusButtonCenterYOffset;</code></p>

<p>也就是说：如果 constantOfPlusButtonCenterYOffset 为0，同时 multiplierOfTabBarHeight 的值是0.5，表示 PlusButton 居中，小于0.5表示 PlusButton 偏上，大于0.5则表示偏下。</p>

<pre><code class="language-Objective-C">+ (CGFloat)constantOfPlusButtonCenterYOffsetForTabBarHeight:(CGFloat)tabBarHeight;
</code></pre>

<p>参考 <code>+multiplierOfTabBarHeight:</code> 中的公式：</p>

<p><code>PlusButtonCenterY = multiplierOfTabBarHeight * taBarHeight + constantOfPlusButtonCenterYOffset;</code></p>

<p>也就是说： constantOfPlusButtonCenterYOffset 大于0会向下偏移，小于0会向上偏移。</p>

<p>注意：实现了该方法，但没有实现 <code>+multiplierOfTabBarHeight:</code> 方法，在这种情况下，会在预设逻辑的基础上进行偏移。</p>

<p>详见Demo中的 <code>CYLPlusButtonSubclass</code> 类的实现。</p>

<pre><code class="language-Objective-C">+ (UIViewController *)plusChildViewController;
</code></pre>

<p>详见： <a href="https://github.com/ChenYilong/CYLTabBarController#%E7%82%B9%E5%87%BB-plusbutton-%E8%B7%B3%E8%BD%AC%E5%88%B0%E6%8C%87%E5%AE%9A-uiviewcontroller">点击 PlusButton 跳转到指定 UIViewController</a> </p>

<p>另外，如果加号按钮超出了边界，一般需要手动调用如下代码取消 tabbar 顶部默认的阴影，可在 AppDelegate 类中调用：</p>

<pre><code class="language-Objective-C">    //去除 TabBar 自带的顶部阴影
    [[UITabBar appearance] setShadowImage:[[UIImage alloc] init]];        
</code></pre>

<p>// iOS10 后 需要使用 <code>-[CYLTabBarController hideTabBadgeBackgroundSeparator]</code> 见 AppDelegate 类中的演示;</p>

<p>如何调整、自定义 <code>PlusButton</code> 与其它 <code>TabBarItem</code> 的宽度？</p>

<p><code>CYLTabBarController</code> 规定：</p>

<pre><code class="language-Objective-C"> TabBarItem 宽度 ＝  ( TabBar 总宽度 －  PlusButton 宽度  ) / (TabBarItem 个数)
</code></pre>

<p>所以想自定义宽度，只需要修改 <code>PlusButton</code> 的宽度即可。</p>

<p>比如你就可以在 Demo中的 <code>CYLPlusButtonSubclass.m</code> 类里：</p>

<p>把</p>

<pre><code class="language-Objective-C"> [button sizeToFit]; 
</code></pre>

<p>改为</p>

<pre><code class="language-Objective-C"> button.frame = CGRectMake(0.0, 0.0, 250, 100);
 button.backgroundColor = [UIColor redColor];
</code></pre>

<p>效果如下，<br/>
1.17.4<br/>
<img src="http://i64.tinypic.com/vx16r5.jpg" alt="enter image description here"/></p>

<p>同时你也可以顺便测试下 <code>CYLTabBarController</code> 的这一个特性：</p>

<blockquote>
<p>即使加号按钮超出了tabbar的区域，超出部分依然能响应点击事件</p>
</blockquote>

<p>并且你可以在项目中的任意位置读取到 <code>PlusButton</code> 的宽度，借助 <code>CYLTabBarController.h</code> 定义的 <code>CYLPlusButtonWidth</code> 这个extern。可参考 <code>+[CYLTabBarControllerConfig customizeTabBarAppearance:]</code> 里的用法。</p>

<h3 id="toc_8">补充说明</h3>

<h4 id="toc_9">自定义 <code>TabBar</code> 样式</h4>

<p>如果想更进一步的自定义 <code>TabBar</code> 样式可在 <code>-application:didFinishLaunchingWithOptions:</code> 方法中设置</p>

<pre><code class="language-Objective-C"> /**
 *  tabBarItem 的选中和不选中文字属性、背景图片
 */
- (void)customizeInterface {
    
    // 普通状态下的文字属性
    NSMutableDictionary *normalAttrs = [NSMutableDictionary dictionary];
    normalAttrs[NSForegroundColorAttributeName] = [UIColor grayColor];
    
    // 选中状态下的文字属性
    NSMutableDictionary *selectedAttrs = [NSMutableDictionary dictionary];
    selectedAttrs[NSForegroundColorAttributeName] = [UIColor darkGrayColor];
    
    // 设置文字属性
    UITabBarItem *tabBar = [UITabBarItem appearance];
    [tabBar setTitleTextAttributes:normalAttrs forState:UIControlStateNormal];
    [tabBar setTitleTextAttributes:selectedAttrs forState:UIControlStateSelected];
    
    // 设置背景图片
    UITabBar *tabBarAppearance = [UITabBar appearance];
    [tabBarAppearance setBackgroundImage:[UIImage imageNamed:@&quot;tabbar_background&quot;]];
}

 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
 /* *省略部分：   * */
    [self.window makeKeyAndVisible];
    [self customizeInterface];
    return YES;
}
</code></pre>

<h4 id="toc_10">捕获 TabBar 点击事件</h4>

<p>实现 CYLTabBarController 的如下几个代理方法即可捕获点击事件。 </p>

<p>下面这个方法能捕获当前点击的 <code>TabBar</code> 上的控件，可以是 <code>UITabBarButton</code>、也可以 <code>PlusButton</code>、也可以是添加到 <code>TabBar</code> 上的任意 <code>UIControl</code> 的子类。但是如果 <code>PlusButton</code> 也添加了点击事件，那么点击 <code>PlusButton</code> 将不会被触发这个代理方法。</p>

<pre><code class="language-Objective-C">//CYLTabBarController.h

@protocol CYLTabBarControllerDelegate &lt;NSObject&gt;

/*!
 * @param tabBarController The tab bar controller containing viewController.
 * @param control Selected UIControl in TabBar.
 * @attention If PlusButton also add an action, then this delegate method will not be invoked when the PlusButton is selected.
 */
- (void)tabBarController:(UITabBarController *)tabBarController didSelectControl:(UIControl *)control;

@end

</code></pre>

<p>下面这个方法能捕获跳转前所在的控制器，以及跳转到的目标控制器。</p>

<pre><code class="language-Objective-C">//UITabBarController.h
@protocol UITabBarControllerDelegate &lt;NSObject&gt;
@optional
- (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController NS_AVAILABLE_IOS(3_0);
@end

</code></pre>

<p>注意：在调用该方法时应该始终调用<br/>
<code>[[self cyl_tabBarController] updateSelectionStatusIfNeededForTabBarController:tabBarController shouldSelectViewController:viewController];</code> 来确保 <code>PlusButton</code> 的选中状态。示例如下：</p>

<pre><code class="language-Objective-C">- (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController {
    [[self cyl_tabBarController] updateSelectionStatusIfNeededForTabBarController:tabBarController shouldSelectViewController:viewController];
    return YES;
}
</code></pre>

<p>相关用法已经在 Demo 中展示。</p>

<p>遵循协议的方式如下：</p>

<pre><code class="language-Objective-C">@interface AppDelegate ()&lt;UITabBarControllerDelegate, CYLTabBarControllerDelegate&gt;

@end

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    //...
        tabBarControllerConfig.tabBarController.delegate = self;
    //...
    return YES;
}
</code></pre>

<h4 id="toc_11">点击 TabBarButton 时添加动画</h4>

<p>Demo 演示的效果图：</p>

<p><img src="https://ww1.sinaimg.cn/large/006tNbRwly1fg9hu6qnwbg308v0gctcc.gif" alt=""/></p>

<p>实现如下代理方法，就能得到对应的选中控件，可以在控件上直接添加动画。</p>

<pre><code class="language-Objective-C">//CYLTabBarController.h

@protocol CYLTabBarControllerDelegate &lt;NSObject&gt;

/*!
 * @param tabBarController The tab bar controller containing viewController.
 * @param control Selected UIControl in TabBar.
 */
- (void)tabBarController:(UITabBarController *)tabBarController didSelectControl:(UIControl *)control;

@end

</code></pre>

<p>Demo 中示例代码如下：</p>

<p>遵循协议</p>

<pre><code class="language-Objective-C">@interface AppDelegate ()&lt;UITabBarControllerDelegate, CYLTabBarControllerDelegate&gt;

@end
</code></pre>

<pre><code class="language-Objective-C"> //AppDelegate.m
- (void)tabBarController:(UITabBarController *)tabBarController didSelectControl:(UIControl *)control {
    UIView *animationView;
    // 如果 PlusButton 也添加了点击事件，那么点击 PlusButton 后不会触发该代理方法。
    if ([control isKindOfClass:[CYLExternPlusButton class]]) {
        UIButton *button = CYLExternPlusButton;
        animationView = button.imageView;
    } else if ([control isKindOfClass:NSClassFromString(@&quot;UITabBarButton&quot;)]) {
        for (UIView *subView in control.subviews) {
            if ([subView isKindOfClass:NSClassFromString(@&quot;UITabBarSwappableImageView&quot;)]) {
                animationView = subView;
            }
        }
    }
    
    if ([self cyl_tabBarController].selectedIndex % 2 == 0) {
        [self addScaleAnimationOnView:animationView];
    } else {
        [self addRotateAnimationOnView:animationView];
    }
}

//缩放动画
- (void)addScaleAnimationOnView:(UIView *)animationView {
    //需要实现的帧动画，这里根据需求自定义
    CAKeyframeAnimation *animation = [CAKeyframeAnimation animation];
    animation.keyPath = @&quot;transform.scale&quot;;
    animation.values = @[@1.0,@1.3,@0.9,@1.15,@0.95,@1.02,@1.0];
    animation.duration = 1;
    animation.calculationMode = kCAAnimationCubic;
    [animationView.layer addAnimation:animation forKey:nil];
}

//旋转动画
- (void)addRotateAnimationOnView:(UIView *)animationView {
    [UIView animateWithDuration:0.32 delay:0 options:UIViewAnimationOptionCurveEaseIn animations:^{
        animationView.layer.transform = CATransform3DMakeRotation(M_PI, 0, 1, 0);
    } completion:nil];
    
    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.2 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
        [UIView animateWithDuration:0.70 delay:0 usingSpringWithDamping:1 initialSpringVelocity:0.2 options:UIViewAnimationOptionCurveEaseOut animations:^{
            animationView.layer.transform = CATransform3DMakeRotation(2 * M_PI, 0, 1, 0);
        } completion:nil];
    });
}
</code></pre>

<h4 id="toc_12">横竖屏适配</h4>

<p><code>TabBar</code> 横竖屏适配时，如果你添加了 <code>PlusButton</code>，且适配时用到了 <code>TabBarItem</code> 的宽度, 不建议使用系统的<code>UIDeviceOrientationDidChangeNotification</code> , 请使用库里的 <code>CYLTabBarItemWidthDidChangeNotification</code> 来更新 <code>TabBar</code> 布局，最典型的场景就是，根据 <code>TabBarItem</code> 在不同横竖屏状态下的宽度变化来切换选中的<code>TabBarItem</code> 的背景图片。Demo 里 <code>CYLTabBarControllerConfig.m</code> 给出了这一场景的用法:</p>

<p><code>CYLTabBarController.h</code>  中提供了 <code>CYLTabBarItemWidth</code> 这一extern常量，并且会在 <code>TabBarItem</code> 的宽度发生变化时，及时更新该值，所以用法就如下所示：</p>

<pre><code class="language-Objective-C">- (void)updateTabBarCustomizationWhenTabBarItemWidthDidUpdate {
    void (^deviceOrientationDidChangeBlock)(NSNotification *) = ^(NSNotification *notification) {
        [self tabBarItemWidthDidUpdate];
};
    [[NSNotificationCenter defaultCenter] addObserverForName:CYLTabBarItemWidthDidChangeNotification
                                                      object:nil
                                                       queue:[NSOperationQueue mainQueue]
                                                  usingBlock:deviceOrientationDidChangeBlock];
}

- (void)tabBarItemWidthDidUpdate {
    UIDeviceOrientation orientation = [[UIDevice currentDevice] orientation];
    if ((orientation == UIDeviceOrientationLandscapeLeft) || (orientation == UIDeviceOrientationLandscapeRight)) {
        NSLog(@&quot;Landscape Left or Right !&quot;);
    } else if (orientation == UIDeviceOrientationPortrait){
        NSLog(@&quot;Landscape portrait!&quot;);
    }
    CGSize selectionIndicatorImageSize = CGSizeMake(CYLTabBarItemWidth, [self cyl_tabBarController].tabBar.bounds.size.height);
    [[self cyl_tabBarController].tabBar setSelectionIndicatorImage:[[self class]
                                                                    imageFromColor:[UIColor yellowColor]
                                                                    forSize:selectionIndicatorImageSize
                                                                    withCornerRadius:0]];
}
</code></pre>

<p><img src="http://i67.tinypic.com/2u4snk7.jpg" alt="enter image description here"/></p>

<h4 id="toc_13">访问初始化好的 CYLTabBarController 对象</h4>

<p>对于任意 <code>NSObject</code> 对象：</p>

<p><code>CYLTabBarController.h</code>  中为 <code>NSObject</code> 提供了分类方法 <code>-cyl_tabBarController</code> ，所以在任意对象中，一行代码就可以访问到一个初始化好的  <code>CYLTabBarController</code>  对象，<code>-cyl_tabBarController</code> 的作用你可以这样理解：与获取单例对象的  <code>+shareInstance</code> 方法作用一样。</p>

<p>接口如下：</p>

<pre><code class="language-Objective-C">// CYLTabBarController.h

@interface NSObject (CYLTabBarController)

/**
 * If `self` is kind of `UIViewController`, this method will return the nearest ancestor in the view controller hierarchy that is a tab bar controller. If `self` is not kind of `UIViewController`, it will return the `rootViewController` of the `rootWindow` as long as you have set the `CYLTabBarController` as the  `rootViewController`. Otherwise return nil. (read-only)
 */
@property (nonatomic, readonly) CYLTabBarController *cyl_tabBarController;

@end
</code></pre>

<p>用法：</p>

<pre><code class="language-Objective-C">//导入 CYLTabBarController.h
#import &quot;CYLTabBarController.h&quot;

- (void)viewDidLoad {
    [super viewDidLoad];
    CYLTabBarController *tabbarController = [self cyl_tabBarController];
    /*...*/
}
</code></pre>

<h4 id="toc_14">点击 PlusButton 跳转到指定 UIViewController</h4>

<p>提供了一个协议方法来完成本功能：</p>

<p><img src="http://i68.tinypic.com/2who9rs.jpg" alt="enter image description here"/></p>

<p>实现该方法后，能让 PlusButton 的点击效果与跟点击其他 TabBar 按钮效果一样，跳转到该方法指定的 UIViewController 。</p>

<p>注意：必须同时实现 <code>+indexOfPlusButtonInTabBar</code> 来指定 PlusButton 的位置。</p>

<p>遵循几个协议：</p>

<p><img src="http://i64.tinypic.com/14jw5zt.jpg" alt="enter image description here"/></p>

<p>另外你可以通过下面这个方法获取到 <code>PlusButton</code> 的点击事件：</p>

<pre><code class="language-Objective-C">+ (BOOL)shouldSelectPlusChildViewController;
</code></pre>

<p>用法如下：</p>

<pre><code class="language-Objective-C">+ (BOOL)shouldSelectPlusChildViewController {
    BOOL isSelected = CYLExternPlusButton.selected;
    if (isSelected) {
        NSLog(@&quot;🔴类名与方法名：%@（在第%@行），描述：%@&quot;, @(__PRETTY_FUNCTION__), @(__LINE__), @&quot;PlusButton is selected&quot;);
    } else {
        NSLog(@&quot;🔴类名与方法名：%@（在第%@行），描述：%@&quot;, @(__PRETTY_FUNCTION__), @(__LINE__), @&quot;PlusButton is not selected&quot;);
    }
    return YES;
}

</code></pre>

<h4 id="toc_15">让TabBarItem仅显示图标，并使图标垂直居中</h4>

<p>要想实现该效果，只需要在设置 <code>tabBarItemsAttributes</code>该属性时不传 title 即可。</p>

<p>比如：在Demo的基础上，注释掉图中红框部分：<br/>
<img src="http://i64.tinypic.com/2cwu8ok.jpg" alt="enter image description here"/></p>

<table>
<thead>
<tr>
<th>注释前</th>
<th>注释后</th>
</tr>
</thead>

<tbody>
<tr>
<td><img src="http://i66.tinypic.com/2z3rj0z.jpg" alt="enter image description here"/></td>
<td><img src="http://i65.tinypic.com/29cp1r9.jpg" alt="enter image description here"/></td>
</tr>
</tbody>
</table>

<p>可以通过这种方式来达到 Airbnb-app 的效果：</p>

<p><img src="http://a63.tinypic.com/2mgk02v.gif" alt="enter image description here"/></p>

<p>如果想手动设置偏移量来达到该效果：<br/>
可以在 <code>-setViewControllers:</code> 方法前设置 <code>CYLTabBarController</code> 的 <code>imageInsets</code> 和 <code>titlePositionAdjustment</code> 属性</p>

<p>这里注意：设置这两个属性后，<code>TabBar</code> 中所有的 <code>TabBarItem</code> 都将被设置。并且第一种做法的逻辑将不会执行，也就是说该做法优先级要高于第一种做法。</p>

<p>做法如下：<br/>
<img src="http://i66.tinypic.com/4rq8ap.jpg" alt="enter image description here"/></p>

<p>但是想达到Airbnb-app的效果只有这个接口是不行的，还需要自定义下 <code>TabBar</code> 的高度，你需要设置 <code>CYLTabBarController</code> 的 <code>tabBarHeight</code> 属性。你可以在Demo的 <code>CYLTabBarControllerConfig.m</code> 中的 <code>-customizeTabBarAppearance:</code> 方法中设置。</p>

<p>注：“仅显示图标，并使图标垂直居中”这里所指的“图标”，其所属的类是私有类： <code>UITabBarSwappableImageView</code>，所以 <code>CYLTabBarController</code> 在相关的接口命名时会包含 <code>SwappableImageView</code> 字样。另外，使用该特性需要 <code>pod update</code> 到 1.5.5以上的版本。</p>

<h4 id="toc_16">多TabBar嵌套，并指定PlusButton位置</h4>

<p>该功能的版本需要 &gt;= v1.17.4。</p>

<p>效果图：</p>

<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fmn3005isfg308r0iltl6.gif" alt="enter image description here"/></p>

<p>实现 PlusButton 的如下协议方法指定 context：</p>

<pre><code class="language-Objective-C">//CYLPlusButtonSubclassing
+ (NSString *)tabBarContext;

</code></pre>

<p>当该值与 TabBarController 的 context 能够匹配上，PlusButton 将会展示。如果 PlusButton 与 TabBarController 均未制定 context 值，那么默认 context 值是相等的。</p>

<p>目前仅支持一个 PlusButton 展示一次，不限层级。如果与多个 TabBarController 的 context 能够匹配上，仅展示在最先一次的匹配上的 TabBarController 上。</p>

<h4 id="toc_17">在 Swift 项目中使用 CYLTabBarController</h4>

<p>仓库中给出了一个Swift Demo，文件夹叫做 Example-Swift。</p>

<p>具体的编写步骤参考热心网友提供的教程： <a href="http://www.jianshu.com/p/c5bc2eae0f55?nomobile=yes">《从头开始swift2.1 仿搜材通项目（三） 主流框架Tabbed的搭建》</a> </p>

<p>这里注意，文章的示例代码有问题，少了设置 PlusButton 大小的代码：<br/>
这将导致 PlusButton 点击事件失效，具体修改代码如下：<br/>
<img src="http://i67.tinypic.com/118ottv.jpg" alt="enter image description here"/></p>

<h4 id="toc_18">搭配 Storyboard 使用 CYLTabBarController</h4>

<p><a href="https://github.com/ChenYilong/CYLDeallocBlockExecutor">这里</a> ，里面有个文件夹CYLTabBarControllerTestDemo，这个Demo演示了如何搭配 Storyboard 使用。</p>

<h4 id="toc_19">源码实现原理</h4>

<p>参考： <a href="http://www.jianshu.com/p/8758d8014f86">《[Note] CYLTabBarController》</a> </p>

<p>更多文档信息可查看 <a href="http://cocoadocs.org/docsets/CYLTabBarController/1.2.1/index.html"> <strong><em>CocoaDocs：CYLTabBarController</em></strong> </a> 。</p>

<h3 id="toc_20">FAQ</h3>

<p>更多Q-A内容，可以在这里查看： <a href="https://github.com/ChenYilong/CYLTabBarController/issues?utf8=%E2%9C%93&amp;q=+label%3AQ-A+">issue-FAQ</a> <br/>
Q：为什么放置6个TabBarItem会显示异常？</p>

<p>A：</p>

<p>Apple 规定：</p>

<blockquote>
<p>一个 <code>TabBar</code> 上只能出现最多5个 <code>TabBarItem</code> ，第六个及更多的将不被显示。</p>
</blockquote>

<p>另外注意，Apple检测的是 <code>UITabBarItem</code> 及其子类，所以放置“加号按钮”，这是 <code>UIButton</code> 不在“5个”里面。</p>

<p>最多只能添加5个 <code>TabBarItem</code> ，也就是说加上“加号按钮”，一共最多在一个 <code>TabBar</code> 上放置6个控件。否则第6个及之后出现 <code>TabBarItem</code> 会被自动屏蔽掉。而且就Apple的审核机制来说，超过5个也会被直接拒绝上架。</p>

<p>Q：我把 demo 两侧的 item 各去掉一个后，按钮的响应区域就变成下图的样子了：<br/>
 <img src="https://cloud.githubusercontent.com/assets/12152553/10725491/62600172-7c07-11e5-9e0a-0ec7d795d1e3.jpeg" alt="wechat_1445851872"/></p>

<p>A：v1.5.5 版本已经修复了该问题，现在不会出现类似的问题了：点击按钮区域却不响应，响应区域有偏移。</p>

<p>Q： 如何实现添加选中背景色的功能 ，像下面这样：<br/>
<img width="409" alt="screen shot 2015-10-28 at 9 21 56 am" src="https://cloud.githubusercontent.com/assets/7238866/10777333/5d7811c8-7d55-11e5-88be-8cb11bbeaf90.png"></p>

<p>A：我已经在 Demo 中添加了如何实现该功能的代码：<br/>
详情见 <code>CYLTabBarControllerConfig</code>  类中下面方法的实现：</p>

<pre><code class="language-Objective-C">/**
 *  更多TabBar自定义设置：比如：tabBarItem 的选中和不选中文字和背景图片属性、tabbar 背景图片属性
 */
- (void)customizeTabBarAppearance:(CYLTabBarController *)tabBarController;

</code></pre>

<p>效果如下：<br/>
<img src="https://cloud.githubusercontent.com/assets/2911921/10779397/34956b0a-7d6b-11e5-82d9-fa75aa34e8d0.png" alt="simulator screen shot 2015 10 28 11 44 32"/></p>

<p>Q: 当 <code>ViewController</code> 设置的 <code>self.title</code> 和 <code>tabBarItemsAttributes</code> 中对应的 <code>title</code> 不一致的时候，会出现如图的错误，排序不对了</p>

<p>A：在 v1.0.7 版本中已经修复了该 bug，但是也需要注意：</p>

<p>请勿使用 <code>self.title = @&quot;同城&quot;;</code> 这种方式，请使用 <code>self.navigationItem.title = @&quot;同城&quot;;</code> </p>

<p><code>self.title = @&quot;同城&quot;;</code> 这种方式，如果和 <code>tabBarItemsAttributes</code> 中对应的 <code>title</code> 不一致的时候可能会导致如下现象（不算 bug，但看起来也很奇怪）：</p>

<p><img src="http://i68.tinypic.com/282l3x4.jpg" alt="enter image description here"/></p>

<p>规则如下：</p>

<pre><code class="language-Objective-C">
    self.navigationItem.title = @&quot;同城&quot;;    //✅sets navigation bar title.The right way to set the title of the navigation
    self.tabBarItem.title = @&quot;同城23333&quot;;   //❌sets tab bar title. Even the `tabBarItem.title` changed, this will be ignored in  tabbar.
    self.title = @&quot;同城1&quot;;                  //❌sets both of these. Do not do this‼️‼️ This may cause something strange like this : http://i68.tinypic.com/282l3x4.jpg 

</code></pre>

<p>Q :  当使用这个方法时 <code>-[UIViewController cyl_popSelectTabBarChildViewControllerAtIndex:]</code> 系列方法时，会出现如下的黑边问题。</p>

<p><img src="http://i63.tinypic.com/bg766g.jpg" alt="enter image description here"/></p>

<p>A： 这个是 iOS 系统的BUG，经测试iOS9.3已经修复了，如果在更早起版本中出现了，可以通过下面将 <code>rootWindow</code> 的背景色改为白色来避免：比如你可以 <code>Appdelegate</code> 类里这样设置：</p>

<pre><code class="language-Objective-C">//#import &quot;CYLTabBarController.h&quot;
    [[self cyl_tabBarController] rootWindow].backgroundColor = [UIColor whiteColor];
</code></pre>

<p>Q:我现在已经做好了一个比较简单的中间凸起的 icon 但是超过了49这个高度的位置是不能效应的  我想请问你的demo哪个功能是可以使我超出的范围也可以响应的呢?</p>

<p>A: 这个是自动做的，但是 <code>CYLTabBarController</code> 只能保证的是：只要是 <code>UIButton</code> 的 frame 区域内就能响应。</p>

<p>请把 button 的背景颜色设置为显眼的颜色，比如红色，比如像下面的plus按钮，红色部分是能接收点击事件的，但是超出了红色按钮的，黄色的图片区域，依然是无法响应点击事件的。</p>

<p><img src="http://i64.tinypic.com/vx16r5.jpg" alt="enter image description here"/></p>

<p>这是因为，在响应链上，<code>UIControl</code> 能响应点击事件， <code>UIImage</code> 无法响应。</p>

<p>Q：为什么在iOS10上会Crash，iOS9上不会？</p>

<p>A：<br/>
  在注册加号按钮时，需要在 <code>-application:didFinishLaunchingWithOptions:</code> 方法里面调用 <code>[YourClass registerPlusButton]</code> </p>

<p>这里注意，不能在子类的 <code>+load</code> 方法中调用，比如像下面这样做，在 iOS10 系统上有 Crash 的风险：</p>

<pre><code class="language-Objective-C"> + (void)load {
    [super registerPlusButton];
}
</code></pre>

<p>Q: 我的样式是点击 <code>plusButton</code> 后跳转到一个 <code>ViewController</code>，但是选中了一次中间的 <code>plusButton</code> 之后，再点别的 <code>tabItem</code> ，中间不会变成 <code>normal</code> 的状态。</p>

<p>A: 有两种情况会造成这个问题：</p>

<ol>
<li><p>应该是你的 <code>tabBar</code> 设置了 <code>delegate</code> 了，你要是 <code>tabBar</code> 的代理没设置的话，默认会有这个 <code>selected</code> 状态切换的处理。你设置代理后，会覆盖我的行为。所以手动加上就好了。</p>

<pre><code class="language-Objective-C">- (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController {
[[self cyl_tabBarController] updateSelectionStatusIfNeededForTabBarController:tabBarController shouldSelectViewController:viewController];
return YES;
}
</code></pre></li>
<li><p><code>plusButton</code> 添加了自定义点击事件或者自定义手势，因为这样会造成点击事件冲突或手势冲突，当需要 <code>pushViewController</code> 的时候，这个库会自动的添加点击事件，你这里重新加了点击事件所以冲突了；</p>

<p>在你项目的基础，把 <code>plusButton</code> 的点击事件取消掉,也就是 <code>addTarget</code> 这一行注释掉，手势事件也同理，应该就ok了</p></li>
</ol>

<p>A: <code>PlusButton</code> 与其他的 <code>TabBarItem</code> 距离没有平均分布 </p>

<p>(对应于 <a href="https://github.com/ChenYilong/CYLTabBarController/issues/36#issuecomment-269165471">issue#36</a> )</p>

<p>把这 Demo 里的这一行代码改下：</p>

<pre><code class="language-Objective-C">[button sizeToFit];
</code></pre>

<p>改成：</p>

<pre><code class="language-Objective-C">button.frame = CGRectMake(0.0, 0.0, w, h);
</code></pre>

<p>那么如果单是放一个照相机的图片，一般是多大的尺寸？</p>

<p>这个要看设计图，通常情况下，你可以写死与其他TabBarItem一样大小：</p>

<pre><code class="language-Objective-C"> [UIScreen mainScreen].bounds.size.width / [CYLTabBarController allItemsInTabBarCount]
</code></pre>

<hr/>

<p>Posted by <a href="http://weibo.com/luohanchenyilong/">微博@iOS程序犭袁</a>  </p>


		</div>
	

  
  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>


  </body>
</html>
