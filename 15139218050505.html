<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  AR 原理与技术分析 - 随心所欲之张东东篇
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="随心所欲之张东东篇" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">随心所欲之张东东篇</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 随心所欲之张东东篇</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>小程序</label></li>

          
            <li><a title="小程序" href="15232437563217.html">小程序</a></li>
          
            <li><a title="小程序登录" href="15234367737951.html">小程序登录</a></li>
          
            <li><a title="小程序TabBar" href="15235114845539.html">小程序TabBar</a></li>
          
            <li><a title="小程序轮播" href="15235125175960.html">小程序轮播</a></li>
          
            <li><a title="小程序列表list" href="15235133751593.html">小程序列表list</a></li>
          
            <li><a title="小程序网络请求" href="15235164843984.html">小程序网络请求</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS开发基础手册</label></li>

          
            <li><a title="iOS开发说明" href="15139213651453.html">iOS开发说明</a></li>
          
            <li><a title="项目问题汇总" href="15139392949146.html">项目问题汇总</a></li>
          
            <li><a title="开发辅助地址一览" href="15142827596143.html">开发辅助地址一览</a></li>
          
            <li><a title="建项-使用三方管理工具cocoaPods" href="15139117675584.html">建项-使用三方管理工具cocoaPods</a></li>
          
            <li><a title="建项-创建.pch文件" href="15139119793020.html">建项-创建.pch文件</a></li>
          
            <li><a title="建项-那些.pch里写了些什么？" href="15139368877787.html">建项-那些.pch里写了些什么？</a></li>
          
            <li><a title="建项-权限、网络问题" href="15139219822825.html">建项-权限、网络问题</a></li>
          
            <li><a title="建项-屏幕适配的这几年" href="15141802374458.html">建项-屏幕适配的这几年</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS代码库</label></li>

          
            <li><a title="OC 字符串操作方法说明" href="15139214218497.html">OC 字符串操作方法说明</a></li>
          
            <li><a title="OC 数组操作方法说明" href="15139214500331.html">OC 数组操作方法说明</a></li>
          
            <li><a title="OC plist文件管理(代码方式)" href="15142856319824.html">OC plist文件管理(代码方式)</a></li>
          
            <li><a title="iOS 从AppDelegate说起" href="15142851543985.html">iOS 从AppDelegate说起</a></li>
          
            <li><a title="iOS tableView 基础使用说明" href="15139214660338.html">iOS tableView 基础使用说明</a></li>
          
            <li><a title="iOS tableView 常用属性与方法" href="15142851756052.html">iOS tableView 常用属性与方法</a></li>
          
            <li><a title="iOS UICollectionView使用详解" href="15142851752080.html">iOS UICollectionView使用详解</a></li>
          
            <li><a title="iOS请求方式" href="15142851750375.html">iOS请求方式</a></li>
          
            <li><a title="iOS导航 与pop" href="15142851748774.html">iOS导航 与pop</a></li>
          
            <li><a title="iOS 计算时间差" href="15142851759902.html">iOS 计算时间差</a></li>
          
            <li><a title="iOS 信息格式验证" href="15142851758481.html">iOS 信息格式验证</a></li>
          
            <li><a title="iOS  UIAlertController 提示框" href="15142851744703.html">iOS  UIAlertController 提示框</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS优秀封装的学习</label></li>

          
            <li><a title="建项-快速开发 1 ->TabBar" href="15142722458623.html">建项-快速开发 1 ->TabBar</a></li>
          

      
        <li class="divider"></li>
        <li><label>iOS杂文</label></li>

          
            <li><a title="iOS ARKit 看我就受够了" href="15139220095625.html">iOS ARKit 看我就受够了</a></li>
          
            <li><a title="AES加密打开方式..." href="15139219514745.html">AES加密打开方式...</a></li>
          
            <li><a title="互动直播变身视频会议" href="15139219144104.html">互动直播变身视频会议</a></li>
          
            <li><a title="Mac电脑清理存储空间" href="15139218767623.html">Mac电脑清理存储空间</a></li>
          
            <li><a title="iOS  MQTT 接入示例" href="15139218580826.html">iOS  MQTT 接入示例</a></li>
          
            <li><a title="AR 原理与技术分析" href="15139218050505.html">AR 原理与技术分析</a></li>
          
            <li><a title="正则表达式简单说明" href="15139217121225.html">正则表达式简单说明</a></li>
          
            <li><a title="排序" href="15198806151662.html">排序</a></li>
          

      
        <li class="divider"></li>
        <li><label>联系方式</label></li>

          
            <li><a title="联系方式" href="15139235853705.html">联系方式</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>小程序</span></li>
                        
                          <li><a title="小程序" href="15232437563217.html">小程序</a></li>
                        
                          <li><a title="小程序登录" href="15234367737951.html">小程序登录</a></li>
                        
                          <li><a title="小程序TabBar" href="15235114845539.html">小程序TabBar</a></li>
                        
                          <li><a title="小程序轮播" href="15235125175960.html">小程序轮播</a></li>
                        
                          <li><a title="小程序列表list" href="15235133751593.html">小程序列表list</a></li>
                        
                          <li><a title="小程序网络请求" href="15235164843984.html">小程序网络请求</a></li>
                        

                    
                      <li class="side-title"><span>iOS开发基础手册</span></li>
                        
                          <li><a title="iOS开发说明" href="15139213651453.html">iOS开发说明</a></li>
                        
                          <li><a title="项目问题汇总" href="15139392949146.html">项目问题汇总</a></li>
                        
                          <li><a title="开发辅助地址一览" href="15142827596143.html">开发辅助地址一览</a></li>
                        
                          <li><a title="建项-使用三方管理工具cocoaPods" href="15139117675584.html">建项-使用三方管理工具cocoaPods</a></li>
                        
                          <li><a title="建项-创建.pch文件" href="15139119793020.html">建项-创建.pch文件</a></li>
                        
                          <li><a title="建项-那些.pch里写了些什么？" href="15139368877787.html">建项-那些.pch里写了些什么？</a></li>
                        
                          <li><a title="建项-权限、网络问题" href="15139219822825.html">建项-权限、网络问题</a></li>
                        
                          <li><a title="建项-屏幕适配的这几年" href="15141802374458.html">建项-屏幕适配的这几年</a></li>
                        

                    
                      <li class="side-title"><span>iOS代码库</span></li>
                        
                          <li><a title="OC 字符串操作方法说明" href="15139214218497.html">OC 字符串操作方法说明</a></li>
                        
                          <li><a title="OC 数组操作方法说明" href="15139214500331.html">OC 数组操作方法说明</a></li>
                        
                          <li><a title="OC plist文件管理(代码方式)" href="15142856319824.html">OC plist文件管理(代码方式)</a></li>
                        
                          <li><a title="iOS 从AppDelegate说起" href="15142851543985.html">iOS 从AppDelegate说起</a></li>
                        
                          <li><a title="iOS tableView 基础使用说明" href="15139214660338.html">iOS tableView 基础使用说明</a></li>
                        
                          <li><a title="iOS tableView 常用属性与方法" href="15142851756052.html">iOS tableView 常用属性与方法</a></li>
                        
                          <li><a title="iOS UICollectionView使用详解" href="15142851752080.html">iOS UICollectionView使用详解</a></li>
                        
                          <li><a title="iOS请求方式" href="15142851750375.html">iOS请求方式</a></li>
                        
                          <li><a title="iOS导航 与pop" href="15142851748774.html">iOS导航 与pop</a></li>
                        
                          <li><a title="iOS 计算时间差" href="15142851759902.html">iOS 计算时间差</a></li>
                        
                          <li><a title="iOS 信息格式验证" href="15142851758481.html">iOS 信息格式验证</a></li>
                        
                          <li><a title="iOS  UIAlertController 提示框" href="15142851744703.html">iOS  UIAlertController 提示框</a></li>
                        

                    
                      <li class="side-title"><span>iOS优秀封装的学习</span></li>
                        
                          <li><a title="建项-快速开发 1 ->TabBar" href="15142722458623.html">建项-快速开发 1 ->TabBar</a></li>
                        

                    
                      <li class="side-title"><span>iOS杂文</span></li>
                        
                          <li><a title="iOS ARKit 看我就受够了" href="15139220095625.html">iOS ARKit 看我就受够了</a></li>
                        
                          <li><a title="AES加密打开方式..." href="15139219514745.html">AES加密打开方式...</a></li>
                        
                          <li><a title="互动直播变身视频会议" href="15139219144104.html">互动直播变身视频会议</a></li>
                        
                          <li><a title="Mac电脑清理存储空间" href="15139218767623.html">Mac电脑清理存储空间</a></li>
                        
                          <li><a title="iOS  MQTT 接入示例" href="15139218580826.html">iOS  MQTT 接入示例</a></li>
                        
                          <li><a title="AR 原理与技术分析" href="15139218050505.html">AR 原理与技术分析</a></li>
                        
                          <li><a title="正则表达式简单说明" href="15139217121225.html">正则表达式简单说明</a></li>
                        
                          <li><a title="排序" href="15198806151662.html">排序</a></li>
                        

                    
                      <li class="side-title"><span>联系方式</span></li>
                        
                          <li><a title="联系方式" href="15139235853705.html">联系方式</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>AR 原理与技术分析</h1>

<h1 id="toc_0">开发场景介绍:</h1>

<p>开发场景介绍摘自电脑爱好者2016年21期<br/>
<img src="http://upload-images.jianshu.io/upload_images/670820-d5e156910b67f395.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""/></p>

<p>AR可以让用户在扫描特定的图片、二维码时展现相应的视频场景，<br/>
那么这种特效是怎么实现的？<br/>
先来了解一下AR程序运行流程是怎么样的?<br/>
<code><br/>
开启手机摄像头对准特定的宣传画扫描，<br/>
接着手机屏幕上就会出现和相应产品对应的自然元素组成的视频。<br/>
这个视频展现，其实就是一个典型AR场景的再现<br/>
</code></p>

<h2 id="toc_1">AR效果的实现</h2>

<h3 id="toc_2">第一步:</h3>

<blockquote>
<p>制作方要对扫描的实物进行建模。<br/>
我们需要先扫描该物品的3D模型，并对其进行关键帧标定，<br/>
比如:瓶盖、瓶身某位置或者图片的不同画面,<br/>
然后根据不同的识别准备对应的动态视频数据 </p>
</blockquote>

<h3 id="toc_3">第二步:</h3>

<blockquote>
<p>当扫描标定的关键帧,系统就会去寻找AR场景中与之最接近的关键帧，<br/>
根据关键帧上的特征点，然后利用特定的算法找到AR场景中对应的视频，<br/>
并将其展现在用户的手机画面中;</p>
</blockquote>

<h3 id="toc_4">关键技术:&lt;识别跟踪&gt;</h3>

<blockquote>
<p>在这个AR应用中技术核心就是&lt;识别跟踪&gt;技术，<br/>
AR应用首先要识别标示物，然后进行跟踪（跟踪用户扫描到的产品标记)，<br/>
接着就在用户手机上展示对应的视频场景。</p>

<p>AR应用是通过“特征点”进行识别的;<br/>
检测到特征点还不行，如果要判断两张图片是否是同一张图片，<br/>
识别设备还要判断两张图片的特征点是否一致;</p>
</blockquote>

<p>识别技术不在介绍,(开发时这里了解,不做过多陈述,我也不懂)</p>

<h3 id="toc_5">第三步: AR视频是由多帧图片组成</h3>

<blockquote>
<p>在完成一幅图片的比对后还要对视频帧的其他图片进行跟踪比对。<br/>
特征跟踪有两种方式:<br/>
一种是对视频流中的每一帧图像进行特征点匹配;<br/>
二种则在第一幅图像中，寻找可能的特征位置<br/>
然后在后续的图像中搜索它们的对应位置。<br/>
这样完成对识别图片的跟踪后，<br/>
AR应用就会在用户的手机上显现对应的视频画面了。</p>
</blockquote>

<h3 id="toc_6">最后:</h3>

<blockquote>
<p>AR应用会先将图片进行特征点的识别，并存储在应用中。<br/>
这样当用户使用手机扫描到符合特征点的瓶身图片，<br/>
AR应用会将当前图片和存储的图片进行比对，如果是一致的图片，<br/>
AR应用就会将特定的视频展示在用户手机屏幕上。<br/>
当然AR应用还会进行跟踪，如扫描不同的区域显示不同的视频，<br/>
或者在扫描其他图片时快速识别并显示预置的视频到用户手机上。 </p>
</blockquote>

<hr/>

<h6 id="toc_7">ARinChina地址:汇总了一些资源👇传送门:</h6>

<p><a href="http://dev.arinchina.com/forum.php">http://dev.arinchina.com/forum.php</a></p>

<h1 id="toc_8">AR原理篇,带你增强现实的思路</h1>

<p>(摘自)[AR报告第二章：AR的工作原理]脑补画面</p>

<h5 id="toc_9">1   首先对现实场景的理解和重构</h5>

<blockquote>
<p>在AR(增强现实)系统中<br/>
首先要解决“是什么”的问题，<br/>
也就是要理解、知道场景中存在什么样的对象和目标。<br/>
第二要解决“在哪里”的问题，也就是要对场景结构进行分析，<br/>
实现跟踪定位和场景重构。</p>
</blockquote>

<h5 id="toc_10">2   物体的检测和识别技术</h5>

<blockquote>
<p>物体检测和识别的目的是发现并找到场景中的目标，<br/>
这是场景理解中的关键一环。<br/>
广义的物体检测和识别技术是基于:<br/>
&quot;图像&quot;的基本信息（各类型特征）和先验知识模型（物体信息表示)<br/>
通过相关的算法实现对场景内容分析的过程。</p>
</blockquote>

<p>(开发中可能遇到需要识别图片的场景,但是算法不是自己写,就先别管怎么识别出来啦)<br/>
<code><br/>
在增强现实领域，常见的检测和识别任务有，<br/>
人脸检测、<br/>
行人检测、<br/>
车辆检测、<br/>
手势识别、<br/>
生物识别、<br/>
情感识别、<br/>
自然场景识别等<br/>
</code><br/>
<strong>这里我只提取介绍一种图像识别:</strong></p>

<blockquote>
<p>识别是从图像匹配的角度出发，<br/>
数据库中保存了图像的特征以及对应的标注信息，<br/>
在实际使用过程中，通过图像匹配的方法找到最相关的图像，<br/>
从而定位环境中的目标，进一步得到识别图像和目标图像的精确位置，<br/>
这种识别适用于需要对环境进行精确跟踪的应用场景</p>
</blockquote>

<p>(开发经常使用的识别图片,其他需要智能识别这里不做介绍);</p>

<p>另一方面，图像本身还受到噪声、尺度、旋转、光照、姿态等因素的影响</p>

<h5 id="toc_11">视觉跟踪技术</h5>

<blockquote>
<p>根据数据的生成方式，视觉跟踪技术的算法可以分为两种，<br/>
一种是基于模板匹配的方式，<br/>
预先对需要跟踪的target进行训练，<br/>
在跟踪阶段通过不断的跟预存训练数据进行比对 解算当前的位姿。<br/>
这类方法的好处是速度较快、数据量小、系统简单，适用于一些特定的场景，<br/>
但不适用于大范围的场景</p>
</blockquote>

<p>另外一种是SLAM方法，也就是即时定位和地图构建技术。(不做介绍)</p>

<h5 id="toc_12">3   增强现实的显示技术</h5>

<p>摄像头获取外部真实环境的图像，<br/>
也就是通过摄像头来采集真实场景的图像进行传递。<br/>
计算机通过场景理解和分析将所要添加的信息和图像信号叠加<br/>
在摄像机的视频信号上，将计算机生成的虚拟场景与真实场景进行融合</p>

<hr/>

<h1 id="toc_13">实现篇:</h1>

<p>现在不少移动端加入了AR的功能作为功能的拓展与补充。<br/>
如淘宝过年期间的AR福字扫描，人脸识别，还有一个AR的游戏等等。<br/>
那么我们今天就说几个可以在移动端实现AR功能的解决方案。</p>

<p><strong>AR在开发ios的时候使用Xcode+Realmax SDK，<br/>
也可以使用Unity+Realmax SDK开发导成api，再导入Xcode编译;</strong></p>

<p><strong>注:需要跨平台使用实现那些炫酷效果需要使用unity来做;</strong></p>

<p>这里没尝试,不懂,再此先不做介绍;研究了补充上说明文档;</p>

<h5 id="toc_14">解决方案</h5>

<p>1 利用第三方AR开发包去实现。</p>

<p>时至今日，AR技术有了一定的发展，<br/>
可以利用第三方的framework开发包导入工程来实现。<br/>
支持的SDK:Metaio被苹果收购、Vuforia被高通（Qualcomm）卖给PTC后，<br/>
相对较好的有ARToolKit、Wikitude</p>

<p>国外的介绍高通的AR实现方案<br/>
在高通VR的官网 :<a href="https://developer.vuforia.com/">https://developer.vuforia.com/</a><br/>
有关识别后显示3D物体，video等的一些基础与高级识别结果<br/>
<code><br/>
注:本着能不看英文就不看英文的想法,可以跳过高通的方案;<br/>
</code></p>

<p>不过国内也有不错的一个国内的引擎：EasyAR<br/>
国内的有easyAR 地址: <a href="http://www.easyar.cn/">http://www.easyar.cn/</a><br/>
<code><br/>
文档和demo真的是干净,没有什么注释说明,<br/>
刚刚接触的使用xcode打开demo看起来是不是一脸懵逼,<br/>
没事不用懂代码都什么东西,使用unity配置好,玩玩导出ios的就可以了....<br/>
</code></p>

<p><img src="http://upload-images.jianshu.io/upload_images/670820-6f9a9265b8beb57d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2017-05-26 上午9.24.36.png"/></p>

<p><img src="http://upload-images.jianshu.io/upload_images/670820-aeb0ccb754fe66e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2017-05-26 上午9.26.01.png"/></p>

<p>(👇图是博客园里的盗图,如有雷同是我抄袭,如果看到原出处,请告知,谢谢)<br/>
图片地址:<a href="http://www.cnblogs.com/guanshenbao/p/5744407.html">http://www.cnblogs.com/guanshenbao/p/5744407.html</a></p>

<p><img src="http://upload-images.jianshu.io/upload_images/670820-295e1c21bd20fe7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"/></p>

<p>看到👆的图,应该就能猜测到,需要识别的图,<br/>
和识别之后显示的酷炫效果是需要使用unity来制作的;</p>

<blockquote>
<p>EasyAR跟高通AR有类似的功能，两者的操作方法略有不同，<br/>
高通需要把图片传到其网站上的，<br/>
而easyAR是可以直接在工程上替换想要识别的图片的，(识别的图片)<br/>
所以说在设定识别图片的方便度上，<br/>
easyAR要比高通AR做的好一些。<br/>
而在示例demo上高通做的比easyAR要好一些，<br/>
比如识别后显示video上，高通有点击暂停，在点击播放的效果，<br/>
而且可以转入到本地播放器，而easyAR就没有这个功能。</p>
</blockquote>

<p>HiAR不推荐,不做介绍,有兴趣的自己查阅;</p>

<p>2 随着VR、AR、MR的火热，unity3D的发展也是水涨船高，<br/>
其跨平台性更是其一大亮点,(跨平台)<br/>
可以通过unity3D导出xcode工程的方法实现AR功能</p>

<p>高通AR，easyAR，HiAR，都有对应的unity3D的开发包，<br/>
导入开发包之后便可进行操作，<br/>
可以显示需要的3D或2D场景，而且也都支持云识别等。</p>

<p>注意开发时在plist文件中加入允许使用相机的属性。(权限问题,不然报错哈)</p>

<p>3 关于人脸识别解决方案，可以利用opencv的一些东西。<br/>
当然也可以用已经写好的一些第三方，比如face++，讯飞人脸识别等。</p>

<p>解决方案参考了: CSDN:baidu_33735542的博客<br/>
<a href="http://blog.csdn.net/baidu_33735542/article/details/55045539?locationNum=11&amp;fps=1">http://blog.csdn.net/baidu_33735542/article/details/55045539?locationNum=11&amp;fps=1</a></p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15139218580826.html"  title="Previous Post: iOS  MQTT 接入示例">&laquo; iOS  MQTT 接入示例</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15139217121225.html" 
	        title="Next Post: 正则表达式简单说明">正则表达式简单说明 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15139218050505.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
